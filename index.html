<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.5/aframe/build/aframe-ar.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gesture-controls@1.3.0/dist/gesture-controls.min.js"></script>

    <style>
      body { margin: 0; overflow: hidden; }
    </style>
  </head>

  <body>
    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      gesture-detector
      device-orientation-permission-ui="enabled: true"
      arjs="sourceType: webcam; trackingMethod: best; debugUIEnabled: false;"
    >

      <a-marker preset="hiro">

        <!-- MODELO -->
        <a-entity id="modelo"
          gltf-model="./esteira.glb"
          gesture-controls="minScale: 0.4; maxScale: 3;"
          scale="2.2 2.2 2.2"
          position="0 0 0"
          rotation="0 0 0"
          animation-mixer>
        </a-entity>

        <!-- PAINEL -->
        <a-entity id="painel"
          geometry="primitive: plane; width: 1.3; height: 0.45"
          material="color: black; opacity: 0.8"
          rotation="-90 0 0"
          position="0 -1.2 0">

          <a-text id="painelTexto"
            value="Estado: NORMAL"
            color="green"
            align="center"
            width="2"
            position="0 0 0.02">
          </a-text>

        </a-entity>

        <!-- BOTÃO INVISÍVEL -->
        <a-box id="botao"
          position="0 0.6 0"
          depth="0.5" height="0.5" width="0.5"
          opacity="0"
          visible="true">
        </a-box>

      </a-marker>

      <a-entity camera></a-entity>

    </a-scene>

    <script>
      let quente = false;

      document.querySelector('#botao').addEventListener('click', () => {
        quente = !quente;

        const texto = document.querySelector('#painelTexto');

        if (quente) {
          texto.setAttribute('value', 'Estado: QUENTE');
          texto.setAttribute('color', 'red');
        } else {
          texto.setAttribute('value', 'Estado: NORMAL');
          texto.setAttribute('color', 'green');
        }
      });
    </script>

  </body>
</html>
